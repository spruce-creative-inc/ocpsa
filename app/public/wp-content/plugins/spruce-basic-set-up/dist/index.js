const e=document.querySelector("body"),t=document.querySelector(".masthead"),n=(document.querySelector(".sticky-wrap"),document.querySelector(".to-top"));document.querySelector("#wpadminbar");function s(e=!0){return e?`${t.offsetHeight}px`:t.offsetHeight}function r(e=!0){const n=t.querySelector(".masthead__pre-bar");return e?`${n.offsetHeight}px`:n.offsetHeight}function o(){new ResizeObserver((t=>{t.forEach((()=>{e.style.setProperty("--offset-masthead",s()),e.style.setProperty("--offset-masthead-pre-bar",r())}))})).observe(t)}function a(){const e=s(!1);function r(){window.scrollY>e?(t.classList.add("sticky"),n&&n.classList.add("visible")):(t.classList.remove("sticky"),n&&n.classList.remove("visible"))}r(),window.addEventListener("scroll",r)}async function i(e=0){return new Promise((t=>setTimeout(t,e)))}function c(e){const{matches:t}=window.matchMedia(`(min-width: ${{phones:30,tablet:48,lg_tablet:53,desktop:62,lg_desktop:75,widescreen:90,lg_widescreen:100}[e]}em)`);return t}function l(){const{matches:e}=window.matchMedia("(prefers-reduced-motion)");return e}function d(){function e(e,t){if(!(e instanceof Element))return;const n=e.getAttribute("href"),s=document.querySelector(n),r=e.querySelector(".middle"),o=s.querySelectorAll(".primary-menu > li > .animate, .social-menu > li > .animate"),a=s.querySelectorAll("a");async function c(){e.classList.add("transition"),e.classList.remove("open"),await i(200),e.classList.remove("transition"),r.classList.remove("hidden"),s.classList.remove("open"),t&&o.forEach((e=>{e.classList.add("out")}));document.querySelectorAll(".menu-item-has-children").forEach((e=>{const t=e.querySelector(".masthead__sub-menu__toggle"),n=e.querySelector(".masthead__sub-menu");t&&t.setAttribute("aria-expanded","false"),n.setAttribute("aria-expanded","false"),e.classList.remove("open")}))}e.addEventListener("click",(n=>{n.preventDefault(),e.classList.contains("open")?c():async function(){e.classList.add("transition"),await i(200),e.classList.add("open"),e.classList.remove("transition"),r.classList.add("hidden"),s.classList.add("open"),t&&async function(e,t){for(let n=0;n<e.length;n++)await t(e[n],n,e)}(o,(async e=>{await i(100),e.classList.remove("out")}))}()})),a.forEach((e=>{e.addEventListener("click",c)}))}document.querySelectorAll(".nav-toggle").forEach((t=>{let n=!1;"true"===t.dataset.animateLinks&&(n=!0),e(t,n)}))}function u(){function n(n){const o=n.querySelector(".masthead__sub-menu__toggle"),a=n.querySelector(".masthead__sub-menu__back-btn"),i=n.querySelector(".masthead__sub-menu"),l=n.querySelector(".masthead__drop-wrap a");if(!i||!o)return;const d=i.classList[1][i.classList[1].length-1],u=i.querySelectorAll("a");let f=0;u.forEach((e=>{e.closest(".masthead__sub-menu").classList[1][i.classList[1].length-1]===d&&(f+=e.offsetHeight)}));function m(){"false"===o.getAttribute("aria-expanded")?(o.setAttribute("aria-expanded","true"),i.setAttribute("aria-expanded","true"),n.classList.add("open")):(o.setAttribute("aria-expanded","false"),i.setAttribute("aria-expanded","false"),n.classList.remove("open"))}function b(){"2"===d&&c("desktop")&&n.closest(".masthead__sub-menu").classList.add("show-sub-menu-level-2")}async function L(){"2"===d&&n.closest(".masthead__sub-menu").classList.remove("show-sub-menu-level-2")}new ResizeObserver((e=>{e.forEach((()=>{i.setAttribute("style",`--subHeight: calc(1rem + ${f+s(!1)-r(!1)}px);`)}))})).observe(t),o&&o.addEventListener("click",(()=>{m()})),a&&a.addEventListener("click",(()=>{m(),o.focus()})),l.addEventListener("mouseover",b),l.addEventListener("focus",b),l.addEventListener("mouseleave",L),l.addEventListener("blur",L),i.addEventListener("focusin",b),i.addEventListener("mouseover",b),i.addEventListener("focusout",L),i.addEventListener("mouseleave",L);new ResizeObserver((e=>{e.forEach((()=>{c("desktop")?o.setAttribute("tabindex",-1):o.setAttribute("tabindex",0)}))})).observe(e)}document.querySelectorAll(".menu-item-has-children").forEach((e=>n(e)))}function f(){const e=document.querySelector(".banner-slider");if(e){!async function(e,t){if(!(e instanceof Element))return;function n(){return Array.from(e.querySelectorAll(".banner-slider__item"))}function s(){return Array.from(e.querySelectorAll(".banner-slider__control"))}let r=t;function o(){r=t}async function a(e,t){const r=n(),a=s(),c=r[e];for(const e of r)e.classList.add("transitioned-out");c.classList.add("on-deck"),await i(300);for(const e of r)e.setAttribute("aria-hidden",!0),e.setAttribute("aria-current",!1),e.querySelectorAll(".btn").forEach((e=>{e.setAttribute("tabindex",-1)}));for(const e of a)e.setAttribute("aria-current",!1),e.setAttribute("tabindex",-1);const l=c.querySelectorAll(".btn");c.setAttribute("aria-hidden",!1),c.setAttribute("aria-current",!0),l.forEach((e=>{e.setAttribute("tabindex",0)}));const d=a[e];!t&&d.focus(),d.setAttribute("aria-current",!0),d.setAttribute("tabindex",0),await i(10),c.classList.remove("transitioned-out","on-deck"),o()}e.querySelector(".banner-slider__controls").addEventListener("click",(e=>{e.preventDefault();const t=s(),n=e.target.closest("a");n?.closest(".banner-slider__controls")&&a(t.indexOf(n))})),e.addEventListener("keydown",(e=>{const t=n(),s=t.indexOf(t.find((e=>e.matches('[aria-current="true"]'))));"ArrowLeft"===e.key?a(0===s?t.length-1:s-1):"ArrowRight"===e.key&&a(s===t.length-1?0:s+1)}));const c=e.querySelector('.banner-slider__item[aria-current="true"]');await i(10),c.classList.remove("transitioned-out"),t&&!l()&&setInterval((function(){r-=1e3,0===r&&function(){const e=n(),t=e.indexOf(e.find((e=>e.matches('[aria-current="true"]'))));a(t===e.length-1?0:t+1,!0)}()}),1e3),n().forEach((e=>{e.addEventListener("focusin",(()=>{r=1e10})),e.addEventListener("focusout",(()=>{o()})),e.addEventListener("mouseover",(()=>{r=1e10})),e.addEventListener("mouseout",(()=>{o()}))}))}(e,parseInt(`${e.dataset.interval}000`)||null)}}function m(){document.querySelectorAll(".parallax").forEach((e=>{!function(e){function t(){const t=e.dataset.img;let n=33.3333;const s=window.innerHeight,r=e.offsetHeight,o=e.getBoundingClientRect().bottom;o>0&&o<=s+r&&(n+=33.3333*(1-o/(s+r)));const a=`--bgImage: url(${t}); --offset: translateY(-${n}%);`;e.setAttribute("style",a)}e instanceof Element&&(t(),window.addEventListener("scroll",t))}(e)}))}function b(){function e(e){if(!(e instanceof Element))return;const t=e.querySelector(".btn--close"),n=document.querySelector(`[href="#${e.id}"]`);function s(){e.classList.remove("active")}window.addEventListener("keydown",(e=>{"Escape"===e.key&&s()})),t.addEventListener("click",s),n.addEventListener("click",(t=>function(t){t.preventDefault(),e.classList.add("active")}(t)))}document.querySelectorAll(".pop-up--wrap").forEach((t=>{e(t)}))}function L(){const e=document.querySelector(".search-modal"),t=document.querySelector(".masthead__search"),n=e.querySelector(".search-modal__close");async function s(){e.classList.remove("transitioned"),await i(300),e.classList.remove("active")}t.addEventListener("click",(async function(){e.classList.add("active"),await i(20),e.classList.add("transitioned"),e.focus()})),n.addEventListener("click",s),window.addEventListener("keydown",(e=>{"Escape"===e.key&&s()}))}function v(){const e=document.querySelector(".logo-bar--slider");e&&function(e){if(!(e instanceof Element))return;let t=e.querySelector(".off-left")||null,n=e.querySelector(".slot-1")||null,s=e.querySelector(".slot-2")||null,r=e.querySelector(".slot-3")||null,o=e.querySelector(".slot-4")||null,a=e.querySelector(".off-right")||null;const i=e.querySelector(".logo-bar__button--prev"),c=e.querySelector(".logo-bar__button--next"),d=e.querySelector(".logo-bar__wrap");let u=5e3;function f(){u=5e3}function m(e){const i=["off-left","slot-1","slot-2","slot-3","slot-4","off-right"];[t,n,s,r,o,a].forEach((e=>{e&&(e.classList.remove(...i),e.setAttribute("tabindex",-1))})),[t,n,s,r,o,a]="back"===e?[t.previousElementSibling||d.lastElementChild,t,n,s,r,o]:[n,s,r,o,a,a?.nextElementSibling||d.firstElementChild],t&&t.classList.add("off-left"),n&&(n.classList.add("slot-1"),n.setAttribute("tabindex",0)),s&&(s.classList.add("slot-2"),s.setAttribute("tabindex",0)),r&&(r.classList.add("slot-3"),r.setAttribute("tabindex",0)),o&&(o.classList.add("slot-4"),o.setAttribute("tabindex",0)),a&&a.classList.add("off-right"),f()}!l()&&setInterval((function(){u-=1e3,0===u&&m()}),1e3),i.addEventListener("click",(()=>m("back"))),c.addEventListener("click",(()=>m())),d.addEventListener("focusin",(()=>{u=1e10})),d.addEventListener("focusout",(()=>{f()})),d.addEventListener("mouseover",(()=>{u=1e10})),d.addEventListener("mouseout",(()=>{f()}))}(e)}document.addEventListener("DOMContentLoaded",(function(){console.log("Spruce Plugin Loaded"),o(),a(),d(),u(),f(),m(),b(),L(),v()}));
//# sourceMappingURL=index.js.map
